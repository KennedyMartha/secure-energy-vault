{
  "_format": "hh-sol-artifact-1",
  "contractName": "PowerUsage",
  "sourceName": "contracts/PowerUsage.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "name": "PowerRecordAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "requester",
          "type": "address"
        }
      ],
      "name": "PowerRecordRetrieved",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "externalEuint32",
          "name": "encryptedUsageInput",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "inputProof",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "name": "addRecord",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "name": "getRecordMetadata",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "name": "getRecordUsage",
      "outputs": [
        {
          "internalType": "euint32",
          "name": "encryptedUsage",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalRecords",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getUserRecordByIndex",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserRecordCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserRecords",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "recordIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        }
      ],
      "name": "recordExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f5ffd5b5061018a6100ae604080516080810182525f808252602082018190529181018290526060810191909152506040805160808101825273687820221192c5b662b25367f70076a37bc79b6c815273848b0066793bcc60346da1f49049357399b8d595602082015273a02cda4ca3a71d7c46997716f4283aa851c2881291810191909152731364cbbf2cdf5032c47d8226a6f6fbd2afcdacac606082015290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b60016002556109368061019c5f395ff3fe608060405234801561000f575f5ffd5b506004361061009f575f3560e01c80636a507ba911610072578063da1f12ab11610058578063da1f12ab14610164578063f60f3c981461016c578063fdffba0e1461017f575f5ffd5b80636a507ba914610129578063c5c0498c1461013c575f5ffd5b806307fd7c86146100a35780630aeacb5e146100c95780632da576fb146100d157806351096b0214610109575b5f5ffd5b6100b66100b1366004610738565b6101b4565b6040519081526020015b60405180910390f35b6100b661025a565b6100e46100df366004610760565b61026f565b604080516001600160a01b0390941684526020840192909252908201526060016100c0565b61011c610117366004610777565b6102fe565b6040516100c09190610790565b6100b6610137366004610760565b610367565b6100b661014a366004610777565b6001600160a01b03165f9081526001602052604090205490565b6127116100b6565b6100b661017a3660046107d2565b6103dc565b6101a461018d366004610760565b5f9081526020819052604090206004015460ff1690565b60405190151581526020016100c0565b6001600160a01b0382165f90815260016020526040812054821061021f5760405162461bcd60e51b815260206004820152601360248201527f496e646578206f7574206f6620626f756e64730000000000000000000000000060448201526064015b60405180910390fd5b6001600160a01b0383165f90815260016020526040902080548390811061024857610248610850565b905f5260205f20015490505b92915050565b5f600160025461026a9190610878565b905090565b5f818152602081905260408120600401548190819060ff166102d35760405162461bcd60e51b815260206004820152601560248201527f5265636f726420646f6573206e6f7420657869737400000000000000000000006044820152606401610216565b5050505f908152602081905260409020805460028201546003909201546001600160a01b0390911692565b6001600160a01b0381165f9081526001602090815260409182902080548351818402810184019094528084526060939283018282801561035b57602002820191905f5260205f20905b815481526020019060010190808311610347575b50505050509050919050565b5f8181526020819052604081206004015460ff166103c75760405162461bcd60e51b815260206004820152601560248201527f5265636f726420646f6573206e6f7420657869737400000000000000000000006044820152606401610216565b505f9081526020819052604090206001015490565b5f5f61041d8686868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525061053f92505050565b600280549192505f61042e8361088b565b909155506040805160a08101825233808252602080830186815242848601908152606085018a81526001608087018181525f8a8152808752898120985189547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b03909116178955945188830155925160028801559051600387015590516004909501805460ff191695151595909517909455918252828152928120805492830181558152919091200181905591506104ed81610553565b506104f88133610562565b506040805142815260208101859052339184917f23d2680ab6f2a5005090a287142e48707783b5fc1f519b39127194a1c49c9783910160405180910390a350949350505050565b5f61054c83836004610574565b9392505050565b5f61055e8230610694565b5090565b5f61056d8383610694565b5090919050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81525f917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b039091169063196d0b9b906105ed9088903390899089906004016108a3565b6020604051808303815f875af1158015610609573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061062d9190610912565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b158015610676575f5ffd5b505af1158015610688573d5f5f3e3d5ffd5b50505050509392505050565b5f7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497008054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b158015610702575f5ffd5b505af1158015610714573d5f5f3e3d5ffd5b50505050505050565b80356001600160a01b0381168114610733575f5ffd5b919050565b5f5f60408385031215610749575f5ffd5b6107528361071d565b946020939093013593505050565b5f60208284031215610770575f5ffd5b5035919050565b5f60208284031215610787575f5ffd5b61054c8261071d565b602080825282518282018190525f918401906040840190835b818110156107c75783518352602093840193909201916001016107a9565b509095945050505050565b5f5f5f5f606085870312156107e5575f5ffd5b84359350602085013567ffffffffffffffff811115610802575f5ffd5b8501601f81018713610812575f5ffd5b803567ffffffffffffffff811115610828575f5ffd5b876020828401011115610839575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b8181038181111561025457610254610864565b5f6001820161089c5761089c610864565b5060010190565b8481526001600160a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f8301168401019150506054831061090357634e487b7160e01b5f52602160045260245ffd5b82606083015295945050505050565b5f60208284031215610922575f5ffd5b505191905056fea164736f6c634300081b000a",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b506004361061009f575f3560e01c80636a507ba911610072578063da1f12ab11610058578063da1f12ab14610164578063f60f3c981461016c578063fdffba0e1461017f575f5ffd5b80636a507ba914610129578063c5c0498c1461013c575f5ffd5b806307fd7c86146100a35780630aeacb5e146100c95780632da576fb146100d157806351096b0214610109575b5f5ffd5b6100b66100b1366004610738565b6101b4565b6040519081526020015b60405180910390f35b6100b661025a565b6100e46100df366004610760565b61026f565b604080516001600160a01b0390941684526020840192909252908201526060016100c0565b61011c610117366004610777565b6102fe565b6040516100c09190610790565b6100b6610137366004610760565b610367565b6100b661014a366004610777565b6001600160a01b03165f9081526001602052604090205490565b6127116100b6565b6100b661017a3660046107d2565b6103dc565b6101a461018d366004610760565b5f9081526020819052604090206004015460ff1690565b60405190151581526020016100c0565b6001600160a01b0382165f90815260016020526040812054821061021f5760405162461bcd60e51b815260206004820152601360248201527f496e646578206f7574206f6620626f756e64730000000000000000000000000060448201526064015b60405180910390fd5b6001600160a01b0383165f90815260016020526040902080548390811061024857610248610850565b905f5260205f20015490505b92915050565b5f600160025461026a9190610878565b905090565b5f818152602081905260408120600401548190819060ff166102d35760405162461bcd60e51b815260206004820152601560248201527f5265636f726420646f6573206e6f7420657869737400000000000000000000006044820152606401610216565b5050505f908152602081905260409020805460028201546003909201546001600160a01b0390911692565b6001600160a01b0381165f9081526001602090815260409182902080548351818402810184019094528084526060939283018282801561035b57602002820191905f5260205f20905b815481526020019060010190808311610347575b50505050509050919050565b5f8181526020819052604081206004015460ff166103c75760405162461bcd60e51b815260206004820152601560248201527f5265636f726420646f6573206e6f7420657869737400000000000000000000006044820152606401610216565b505f9081526020819052604090206001015490565b5f5f61041d8686868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525061053f92505050565b600280549192505f61042e8361088b565b909155506040805160a08101825233808252602080830186815242848601908152606085018a81526001608087018181525f8a8152808752898120985189547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b03909116178955945188830155925160028801559051600387015590516004909501805460ff191695151595909517909455918252828152928120805492830181558152919091200181905591506104ed81610553565b506104f88133610562565b506040805142815260208101859052339184917f23d2680ab6f2a5005090a287142e48707783b5fc1f519b39127194a1c49c9783910160405180910390a350949350505050565b5f61054c83836004610574565b9392505050565b5f61055e8230610694565b5090565b5f61056d8383610694565b5090919050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81525f917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b039091169063196d0b9b906105ed9088903390899089906004016108a3565b6020604051808303815f875af1158015610609573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061062d9190610912565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b158015610676575f5ffd5b505af1158015610688573d5f5f3e3d5ffd5b50505050509392505050565b5f7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497008054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b158015610702575f5ffd5b505af1158015610714573d5f5f3e3d5ffd5b50505050505050565b80356001600160a01b0381168114610733575f5ffd5b919050565b5f5f60408385031215610749575f5ffd5b6107528361071d565b946020939093013593505050565b5f60208284031215610770575f5ffd5b5035919050565b5f60208284031215610787575f5ffd5b61054c8261071d565b602080825282518282018190525f918401906040840190835b818110156107c75783518352602093840193909201916001016107a9565b509095945050505050565b5f5f5f5f606085870312156107e5575f5ffd5b84359350602085013567ffffffffffffffff811115610802575f5ffd5b8501601f81018713610812575f5ffd5b803567ffffffffffffffff811115610828575f5ffd5b876020828401011115610839575f5ffd5b949760209190910196509394604001359392505050565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b8181038181111561025457610254610864565b5f6001820161089c5761089c610864565b5060010190565b8481526001600160a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f8301168401019150506054831061090357634e487b7160e01b5f52602160045260245ffd5b82606083015295945050505050565b5f60208284031215610922575f5ffd5b505191905056fea164736f6c634300081b000a",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
